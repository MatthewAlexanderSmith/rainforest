<div id="search_field">
  <%= form_tag products_path, method: :get, authentication: false, id: 'search-form' do %>
    <%= text_field_tag :search, params[:search] %>
    <%= submit_tag "Search" %>
  <% end %>
</div>
<!-- <div id="products">

</div> -->

<table class="u-full-width">
  <thead>
    <tr>
      <th>Product</th>
      <th>Description</th>
      <th>Price</th>
    </tr>
  </thead>
  <tbody id="products">
    <%= render @products %>
  </tbody>
</table>
<!-- Performs the same function as the easier to read  and more succinct jQuery equivalent found in products.js -->
<!-- <script type="text/javascript">
function display_search_results() {
 // readyState === 4 means that the asynchronous request completed successfully
     if (this.readyState === 4) {
       console.log(this);
       document.getElementById('products').innerHTML = this.responseText;
     }
    }

    var form = document.getElementById('search-form');
    form.addEventListener('submit', function(event) {
       event.preventDefault();
       var searchValue = document.getElementById('search').value;
       var xhr = new XMLHttpRequest();
       xhr.onload = display_search_results;
       xhr.open('GET', '/products?search=' + searchValue, true);
       xhr.setRequestHeader("X-Requested-With", "XMLHttpRequest");
       xhr.send();
    });

</script> -->
